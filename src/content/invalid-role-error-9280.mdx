---
title: "Invalid role specified: input value is not one of the allowed roles [\"system\", \"assistant\", \"user\", \"function\"]. Please ensure the role is correctly defined."
provider: "openai"
provider_icon: "/logos/openai.png"
solved: true
slug: "invalid-role-error-9280"
---

## Raw Error Text

```text
"SYSTEM" is not one of ["system", "assistant", "user", "function"] - "messages.0.role"
```

## Reason

The error `"SYSTEM" is not one of ["system", "assistant", "user", "function"]` occurs when the `role` attribute in the Chat Completions `messages` array contains an invalid or unsupported value. This typically happens for two reasons:
1. **Case Sensitivity**: The OpenAI API is case-sensitive. The role must be provided in lowercase (e.g., `"system"`). Using uppercase or capitalized strings like `"SYSTEM"` or `"System"` will result in a validation error.
2. **Model-Specific Constraints**: Different OpenAI models support different role types. For example, newer reasoning models like `o1-mini` and `o1-preview` do not support the traditional `system` role. Instead, they use a `developer` role or require instructions to be included within a `user` message.
3. **Unsupported Role Name**: The value provided does not match the enumerated list allowed by the specific model version, which usually includes `system`, `user`, `assistant`, `tool`, or `function`.

## Solution
To resolve this error, ensure the `role` field adheres to the specific requirements of the model you are calling. Follow these steps:
1. **Convert to Lowercase**: Verify that the role string is entirely lowercase. Change `"SYSTEM"` to `"system"`.
2. **Verify Model Compatibility**: Check if the model you are using supports the role you have assigned.
    * If using **o1 series** models (like `o1-preview` or `o1-mini`), replace the `system` role with the `developer` role.
    * If the model does not support `system` or `developer` roles, move your system-level instructions into the first `user` message.
3. **Use Valid Role Enums**: Ensure the role is one of the following standard values:
    * `system`: For high-level instructions (available on most GPT-4o and GPT-3.5 models).
    * `developer`: For system-level instructions on newer reasoning models (o1).
    * `user`: For messages sent by the user.
    * `assistant`: For messages sent by the model in previous turns.
    * `tool` or `function`: For providing the output of external tool calls.
4. **Update SDK**: If you are trying to use newer roles like `developer`, ensure your OpenAI library (Python or Node.js) is updated to the latest version to support these schema changes.

## Suggested Links
- [https://platform.openai.com/docs/api-reference/chat/create](https://platform.openai.com/docs/api-reference/chat/create)
- [https://platform.openai.com/docs/guides/reasoning](https://platform.openai.com/docs/guides/reasoning)
