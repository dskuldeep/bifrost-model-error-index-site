---
title: "The description provided for a function or component is too long and exceeds the acceptable limit. Please shorten the description to comply with length constraints."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "description-length-error-9045"
---

## Raw Error Text

```text
"The 'matching_auto_reply' function is designed to match the incoming user query with a list of question that matches the intent and context and respond with best matching query if any, the list of questions as in format as follows, 0. question: Some question ans: Some answer, tagged as question and ans and numeric noation for each question number starting 0, List of FAQs are as follow: 0 question: What is the goal of Vested? ans: Our goal is to help our customers build long term wealth. 1 question: How does Vested help Indian investors? ans: Vested helps Indian investors by providing them with access to global markets and more diversification options.,2 question: What sets Vested apart from other companies? ans: What sets Vested apart is their team and the culture they have been able to nurture. They value collaboration, creativity, and excellence.,3 question: What are Vested's ambitions? ans: Vested's ambitions are to become the largest alternative assets platform in India and to make alternative investments accessible, exciting, and rewarding for everyone.,4 question: Who are the leaders of Vested? ans: The leaders of Vested are Viram Shah (Co-founder &amp; CEO), Sanjay Sood (Chief Finance Officer), Scott Brody (Chief Compliance Officer), Bharat Jain (Founding Member &amp; Director of BD), Susheel Kumar (Director of Engineering), and Akash Gupta (Director of Marketing) " is too long - 'functions.0.description'
```

## Reason

The 400 Bad Request error is primarily caused by the `description` field in the function definition exceeding the character limit allowed by the Azure OpenAI API (typically 1,024 characters). In this specific case, the `functions.0.description` contains a long list of FAQs, which is an improper use of the field and triggers the validation error.

Other potential reasons for this error include:
1. **Invalid Request Arguments**: Providing parameters that are not recognized by the specific model or API version, such as using `max_completion_tokens` (intended for newer reasoning models like the o1-series) on standard GPT models.
2. **Payload Size Issues**: The overall request body or specific properties within the JSON payload exceed the structural limits defined by the API.
3. **API Version and Parameter Compatibility**: A mismatch between the `api-version` specified in the request URL and the parameters passed in the body. Features available in newer versions may not be backward-compatible with older API versions.

## Solution
To resolve the 400 status error, address the following configuration and payload issues:
1. **Shorten Function Descriptions**: The `description` field should only contain a concise summary of what the function does so the model knows when to call it. Move large datasets, such as the FAQ list seen in the error, to the system prompt or use a Retrieval-Augmented Generation (RAG) architecture.
2. **Validate Request Arguments**: Ensure that parameters like `max_completion_tokens` or `max_tokens` are compatible with your deployment. For most GPT-3.5 or GPT-4 models, use `max_tokens` unless specifically using a model that requires the newer parameter.
3. **Review Payload Structure**: Verify that the request body is valid JSON and that all required fields are present and correctly formatted according to the OpenAI tool/function calling schema.
4. **Verify API Version and Parameters**: Check the `api-version` in your endpoint URL. Ensure that the version you are targeting supports the features you are attempting to use.
5. **Check Endpoint and Credentials**: Confirm that your Azure OpenAI resource endpoint is correct and that your API key is active and has not expired.
6. **Managed Identity Configuration**: If you are using Azure Managed Identity for authentication, verify that the application has been assigned the 'Cognitive Services OpenAI User' role and that the token retrieval process is correctly implemented.

## Suggested Links
- [https://learn.microsoft.com/en-us/answers/questions/2117771/unable-to-perform-http-communication-with-azure-op](https://learn.microsoft.com/en-us/answers/questions/2117771/unable-to-perform-http-communication-with-azure-op)
- [https://luke.geek.nz/azure/troubleshooting-scenarios-azure-open-ai/](https://luke.geek.nz/azure/troubleshooting-scenarios-azure-open-ai/)
- [https://community.openai.com/t/invalid-purpose-error-when-using-file-create-in-openai-azure/524965](https://community.openai.com/t/invalid-purpose-error-when-using-file-create-in-openai-azure/524965)
- [https://community.openai.com/t/azure-open-ai-client-not-working-with-threads/520374](https://community.openai.com/t/azure-open-ai-client-not-working-with-threads/520374)
- [https://community.openai.com/t/azure-open-ai-assistant-api-connection-error/662198](https://community.openai.com/t/azure-open-ai-assistant-api-connection-error/662198)
- [https://learn.microsoft.com/en-us/answers/questions/1680345/issue-with-authenticating-api-management-with-azur](https://learn.microsoft.com/en-us/answers/questions/1680345/issue-with-authenticating-api-management-with-azur)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling)
