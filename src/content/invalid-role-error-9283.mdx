---
title: "The specified role is not valid. Ensure the role is one of ['system', 'assistant', 'user', 'function']."
provider: "openai"
provider_icon: "/logos/openai.png"
solved: true
slug: "invalid-role-error-9283"
---

## Raw Error Text

```text
'systemm' is not one of ['system', 'assistant', 'user', 'function'] - 'messages.0.role'
```

## Reason

The error occurs because the value provided for the `role` parameter in the API request is invalid. Specifically, the string `'systemm'` is a typographical error and does not match the schema expected by the OpenAI API. 

This error triggers a `400 Bad Request` because OpenAI strictly enforces an enumerated list of strings for the `role` property within the `messages` array. In the context of this specific error message, the API expects one of the following values:

*   `system` (Used to define the assistant's behavior)
*   `user` (Used for instructions or queries from the end-user)
*   `assistant` (Used for responses generated by the model)
*   `function` (Used for providing results from legacy function calls)

The path `messages.0.role` indicates that the invalid value was found in the first object of the messages array.

## Solution
To resolve this error, you must correct the `role` attribute in your request payload to match the expected API specification. Follow these steps:
1.  **Correct the Typo:** Locate the first message in your `messages` array and change the role from `'systemm'` to `'system'`.
2.  **Verify All Message Roles:** Ensure every object in the `messages` list uses a valid role. Depending on the model and API version, the valid roles are typically:
    *   `system`: For high-level instructions.
    *   `user`: For user-provided content.
    *   `assistant`: For prior model turns in a conversation.
    *   `tool` or `function`: For returning results from called functions.
3.  **Check Model Compatibility:** If you are using newer models (such as the `o1` series), note that some models have specific requirements for the `system` role or may require a `developer` role instead, although the error message here suggests the standard chat completion schema.
4.  **Validate JSON Structure:** Ensure that the role is a string and is not nested incorrectly within the message object.

## Suggested Links
- [https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400](https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400)
- [https://community.openai.com/t/o1-models-do-not-support-system-role-in-chat-completion/953880](https://community.openai.com/t/o1-models-do-not-support-system-role-in-chat-completion/953880)
- [https://community.openai.com/t/error-400-already-has-an-active-run/930753](https://community.openai.com/t/error-400-already-has-an-active-run/930753)
- [https://community.openai.com/t/getting-400-response-with-already-working-code/509212](https://community.openai.com/t/getting-400-response-with-already-working-code/509212)
- [https://community.openai.com/t/error-missing-required-parameter-role-when-sending-a-message-to-a-thread-via-openai-api/989022](https://community.openai.com/t/error-missing-required-parameter-role-when-sending-a-message-to-a-thread-via-openai-api/989022)
- [https://github.com/microsoft/autogen/issues/3284](https://github.com/microsoft/autogen/issues/3284)
- [https://community.openai.com/t/openai-function-calling-make-up-parameters/271073](https://community.openai.com/t/openai-function-calling-make-up-parameters/271073)
- [https://community.openai.com/t/issues-with-php-integration-for-openai-assistants-v2-missing-required-parameter-role/947949](https://community.openai.com/t/issues-with-php-integration-for-openai-assistants-v2-missing-required-parameter-role/947949)
- [https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages](https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages)
