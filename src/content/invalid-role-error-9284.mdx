---
title: "Invalid role specified in the input. The \"role\" field must be one of: \"system\", \"assistant\", \"user\", or \"function\"."
provider: "openai"
provider_icon: "/logos/openai.png"
solved: true
slug: "invalid-role-error-9284"
---

## Raw Error Text

```text
"function_call" is not one of ["system", "assistant", "user", "function"] - "messages.2.role"
```

## Reason

The error message `"function_call" is not one of ["system", "assistant", "user", "function"] - "messages.2.role"` indicates that the `role` parameter in your request body contains an invalid value. Specifically, the message at index 2 (the third message in your list) has its `role` key set to `"function_call"`.

In the OpenAI Chat Completions API, every message object must have a `role` field that matches one of the following recognized values:
1. `system`: Used for high-level instructions to the model.
2. `user`: Used for messages sent by the human user.
3. `assistant`: Used for responses generated by the model.
4. `tool` (or the legacy `function`): Used to provide the output of a tool or function call back to the model.

This error occurs because `function_call` is not a valid role. While `function_call` is a valid property name used to describe a model's request to call a function, it cannot be used as the value for the `role` key. This mistake often happens when developers attempt to manually construct the message history and incorrectly attribute the model's intent to call a function as the message's role.

## Solution
To resolve this 400 status error, you must ensure that every message in your `messages` array uses a valid role and follows the correct structure. Follow these steps:
1. Identify the message at the index specified in the error (e.g., `messages[2]`).
2. Verify that the `role` field for that message is set to one of the allowed strings: `"system"`, `"user"`, `"assistant"`, or `"tool"` (or `"function"` for legacy models).
3. If you were trying to represent a model's call to a function, set the `role` to `"assistant"` and place the function details in the `function_call` or `tool_calls` property of that message.
4. If you were trying to provide the result of a function execution, set the `role` to `"tool"` (recommended) or `"function"` (legacy).
5. Ensure the sequence of messages adheres to the API's expected conversation flow (typically starting with a `system` or `user` message).

## Suggested Links
- [https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages](https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages)
- [https://platform.openai.com/docs/guides/function-calling](https://platform.openai.com/docs/guides/function-calling)
