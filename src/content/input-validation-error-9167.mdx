---
title: "[] is too short - 'tools'"
provider: "openai"
provider_icon: "/logos/openai.svg"
solved: true
slug: "input-validation-error-9167"
---

## Reason

The `400 Bad Request` error indicates that the OpenAI API cannot process the request due to client-side configuration or syntax issues. The specific error message `[] is too short - 'tools'` indicates a schema validation failure specifically related to the Chat Completions API.

**Specific Issue: Empty 'tools' Array**
When using the `tools` parameter for function calling, OpenAI requires the array to contain at least one tool definition. Passing an empty list (`[]`) violates this requirement, resulting in the "too short" error.

**General Causes for 400 Errors:**

*   **Invalid API Keys or Configuration:** Using an incorrect, expired, or revoked API key, or a mismatch between the key used and the one registered in the OpenAI Developer Dashboard.
*   **Incorrect Request Format:** Sending malformed JSON or invalid parameters, such as `$.messages.content` having an invalid format.
*   **Rate Limiting:** While usually a 429 error, certain throttling behaviors or exceeding specific quotas can trigger 400-level responses.
*   **HTTP Request Issues:** Incorrectly configured headers (e.g., the `Authorization` field) or an invalid base URL endpoint.
*   **Missing Required Properties:** Omitting mandatory fields like `model` or `messages`, or providing them with the wrong data type (e.g., passing `messages` as a string instead of an array).
*   **Token Limits:** Exceeding the maximum token limit for a specific model or submitting excessively large payloads (like large code diffs) that the API cannot ingest.

## Solution
To resolve the `400 Bad Request` error and fix the `'tools'` validation issue, follow these steps:
1.  **Correct the 'tools' Field:**
    *   If your request includes the `tools` parameter, ensure it is populated with at least one valid tool object (e.g., a function definition).
    *   If you do not need to use any tools, remove the `tools` key entirely from your request body. Do not send it as an empty array.
2.  **Verify API Key:** Confirm your API key is valid and has not expired. Regenerate the key in the OpenAI Dashboard if necessary.
3.  **Validate Request Syntax:** Ensure the payload conforms to the official OpenAI API specification. Pay close attention to the `messages` array structure and the `model` name.
4.  **Monitor Usage Limits:** Check your organization's rate limits and token usage in the OpenAI billing dashboard to ensure you are within allowed thresholds.
5.  **Review Request Headers:** Ensure your headers are correctly formatted. The `Authorization` header must be in the format `Bearer OPENAI_API_KEY`, and the `Content-Type` must be `application/json`.
6.  **Check Data Integrity:** Ensure that required fields such as `content` are present in every message object and that no fields contain null values where a string or object is expected.

## Suggested Links
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
