---
title: "The provided image url is not accessible."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "url-access-error-9510"
---

## Reason

The "Provided image URL is not accessible" error in the Azure OpenAI API (typically encountered with GPT-4 Vision or GPT-4o models) occurs when the service cannot retrieve the image from the provided link. This is generally caused by one of the following factors:

**Invalid or Encoded URLs**

The API may fail to process URLs containing characters that are not properly handled or are double-encoded. For example, using `%2F` instead of `/` in the URL path can trigger a `BadRequestError: 400 Invalid image` error.

**URL Length and Image Constraints**

If an image is provided as a data URL (Base64-encoded string) and exceeds internal processing limits—often cited as 65,535 characters—it can result in a `UriFormatException`. Additionally, the image must be in a supported format (PNG, JPEG, WEBP, or non-animated GIF) and usually under 20MB in size.

**Accessibility and Permissions**

The image must be reachable over the public internet by the Azure OpenAI service. Access is frequently blocked by:
1. Network restrictions such as corporate firewalls or VPNs.
2. Private storage settings (e.g., Azure Blob Storage containers set to "Private").
3. IP whitelisting on the host server that does not include Azure's service tags.

This can lead to a `403 Forbidden` error that the API occasionally wraps and reports as a `400 Bad Request`.

**Syntax and Model Configuration**

Request errors such as incorrect headers, invalid parameters, or attempting to use image URLs with a model deployment that does not support Vision capabilities will result in this error. This includes issues where the request JSON structure is malformed, preventing the server from parsing the `image_url` field correctly.

## Solution
To resolve the 400 status error when working with image URLs in Azure OpenAI, follow these steps:
1. **Verify Public Accessibility**: Attempt to open the image URL in a private or incognito browser window. If the image requires a login or does not load, the API will not be able to access it.
2. **Check Encoding**: Ensure the URL is correctly formatted and does not contain manually encoded characters (like `%2F`) that the service might misinterpret.
3. **Validate Image Specifications**: Confirm the image is a supported file type (JPEG, PNG, WEBP, or GIF) and that the file size is below the 20MB limit.
4. **Handle Private Storage**: If the image is hosted on Azure Blob Storage, append a Shared Access Signature (SAS) token to the URL or set the container's access level to "Blob" or "Container."
5. **Monitor URL Length**: If using data URIs, ensure they do not exceed the API's character limits. If they do, host the image on a public or SAS-protected URL instead.
6. **Inspect Request Payload**: Verify that the JSON body correctly specifies the content type as `image_url` and that the deployment used is a vision-capable model (e.g., `gpt-4o` or `gpt-4-vision-preview`).
7. **Use Base64 Fallback**: If network restrictions on the host server cannot be lifted, encode the image to a Base64 string and pass it directly in the request payload as a data URL, ensuring it meets size and token constraints.

## Suggested Links
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
