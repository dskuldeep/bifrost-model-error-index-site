---
title: "Invalid input role: expected a role from ['system', 'assistant', 'user', 'function']. Please correct the role and try again."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "input-validation-error-9213"
---

## Raw Error Text

```text
'you are a bot that creates FAQs' is not one of ['system', 'assistant', 'user', 'function'] - 'messages.0.role'
```

## Reason

The 400 Bad Request error in the Azure OpenAI API occurs because the `role` attribute in the `messages` array contains an invalid value. In this instance, the API received the descriptive string `'you are a bot that creates FAQs'` as the role identifier, which is not a recognized role in the Chat Completion schema.

According to the API specifications, the `role` field must be exactly one of the following reserved keywords:
1. **system**: Used to provide high-level instructions, context, or persona definitions (e.g., setting the bot's behavior).
2. **user**: Represents inputs or prompts coming from the human user.
3. **assistant**: Represents previous responses generated by the model, used to maintain conversation history.
4. **function / tool**: Used to provide the output of function calls or tool executions.

Custom strings or prompt content placed inside the `role` key will trigger a validation error (`messages.0.role`), as the API expects a categorical role name rather than a description.

## Solution
To resolve the 400 status error, you must modify your request payload to ensure that every message object in the `messages` array uses a valid role. Follow these steps:
1. **Identify the misconfigured message**: Locate the entry in your request where the descriptive instruction (e.g., `'you are a bot that creates FAQs'`) is assigned to the `role` property.
2. **Assign a valid role keyword**: Change the value of the `role` field to one of the supported keywords: `'system'`, `'user'`, or `'assistant'`. For a persona-setting instruction, `'system'` is the appropriate choice.
3. **Move instructions to the content field**: Place the actual prompt text inside the `content` property of the message object.
4. **Verify all message objects**: Ensure that every message in the array adheres to the standard `{"role": "...", "content": "..."}` structure.

**Example Correction:**

*   **Incorrect JSON:**
    `{ "role": "you are a bot that creates FAQs", "content": "" }`

*   **Corrected JSON:**
    `{ "role": "system", "content": "You are a bot that creates FAQs." }`

**Note for o1 Models**: If you are using Azure OpenAI o1-series models, be aware that some versions may have specific constraints regarding the `system` role. While standard GPT-4/3.5 models use `system`, certain newer reasoning models might require you to use a `user` role for initial instructions or a `developer` role if supported by your specific API version.

## Suggested Links
- [https://community.openai.com/t/o1-models-do-not-support-system-role-in-chat-completion/953880](https://community.openai.com/t/o1-models-do-not-support-system-role-in-chat-completion/953880)
- [https://github.com/langgenius/dify/issues/4686](https://github.com/langgenius/dify/issues/4686)
- [https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400](https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400)
- [https://learn.microsoft.com/en-us/answers/questions/1693862/unable-to-use-azure-openai-assistant-api](https://learn.microsoft.com/en-us/answers/questions/1693862/unable-to-use-azure-openai-assistant-api)
- [https://alan-turing-institute.github.io/prompto/examples/azure-openai/azure-openai-multimodal/](https://alan-turing-institute.github.io/prompto/examples/azure-openai/azure-openai-multimodal/)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/role-based-access-control](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/role-based-access-control)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/reference](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference)
