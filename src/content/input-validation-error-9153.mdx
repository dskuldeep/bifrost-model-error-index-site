---
title: "Invalid input role: expected a role from [\"system\", \"assistant\", \"user\", \"function\"]. Please correct the role and try again."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "input-validation-error-9153"
---

## Raw Error Text

```text
"you are a bot that creates FAQs" is not one of ["system", "assistant", "user", "function"] - "messages.0.role"
```

## Reason

The Azure OpenAI API returns a 400 Bad Request error when an invalid value is provided for the `role` parameter within the `messages` array. The API enforces a strict schema where the `role` field must be one of the following predefined strings:
1. **system**: For high-level instructions that define the model's behavior.
2. **user**: For prompts or questions provided by the end-user.
3. **assistant**: For storing previous responses generated by the model in a conversation history.
4. **function**: For legacy function calling outputs (often replaced by `tool` in newer API versions).

In this specific instance, the error occurred because the instructional text `"you are a bot that creates FAQs"` was mistakenly placed in the `role` field instead of the `content` field. The API does not allow custom strings for roles.

## Solution
To resolve the 400 status error, you must ensure that the `role` field in every message object adheres to the supported API roles. Follow these steps to correct the request:
1. **Identify the Incorrect Role**: Locate the message object referenced in the error (e.g., `messages[0]`).
2. **Reassign the Content**: Move the text `"you are a bot that creates FAQs"` from the `role` key to the `content` key.
3. **Set a Valid Role**: Assign a valid role identifier (typically `system` for instructions) to the `role` key.
4. **Validate the Payload**: Ensure that no other messages in the array contain custom or misspelled role names (e.g., using `human` instead of `user`).

**Corrected Request Example:**

```json
{
  "messages": [
    {
      "role": "system",
      "content": "you are a bot that creates FAQs"
    }
  ]
}
```

## Suggested Links
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/reference](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference)
- [https://platform.openai.com/docs/api-reference/chat/create](https://platform.openai.com/docs/api-reference/chat/create)
