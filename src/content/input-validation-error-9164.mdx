---
title: "Invalid role specified: the role must be one of [\"system\", \"assistant\", \"user\", \"function\"]."
provider: "openai"
provider_icon: "/logos/openai.png"
solved: true
slug: "input-validation-error-9164"
---

## Raw Error Text

```text
"useer" is not one of ["system", "assistant", "user", "function"] - "messages.1.role"
```

## Reason

The 400 Bad Request error occurs because the `role` parameter in your OpenAI API request contains an invalid value. In this specific case, the value `"useer"` was provided, which is a typo and not recognized by the API schema.

Key reasons for this error include:
1. **Invalid Role Value**: The API requires the `role` field to be one of the specific supported strings: `system`, `assistant`, `user`, or `function`. Any deviation, including typos or incorrect casing, causes the server to reject the request.
2. **Array Index Error**: The error message `"messages.1.role"` indicates exactly where the failure is occurring. In this instance, it points to the second item (index 1) in your `messages` array.
3. **Strict Schema Validation**: OpenAI enforces a rigid schema for Chat Completion requests. If any object within the `messages` array does not conform to the expected format, the entire request fails.

## Solution
To correct the 400 status error, you must update the `messages` array in your API request payload to use valid roles. Follow these steps:
1. **Locate the specific message**: Find the message object at the index specified in the error (e.g., the second object for `messages.1`).
2. **Correct the Role Typo**: Change the `role` value from `"useer"` to `"user"`. Ensure there are no extra spaces or incorrect capitalization.
3. **Map Roles Properly**: Ensure each message uses the correct role based on its purpose:
   * **system**: Used for high-level instructions that define the model's behavior.
   * **user**: Used for the actual queries or prompts provided by the end-user.
   * **assistant**: Used for previous responses generated by the model to provide conversation history.
   * **function**: Used for the output of a function call (note: newer models often use `tool` instead, but `function` remains valid for legacy support as indicated by the error message).
4. **Verify Payload Formatting**: Ensure the entire `messages` array is structured correctly as an array of objects, each containing valid `role` and `content` keys.

## Suggested Links
- [https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages](https://platform.openai.com/docs/api-reference/chat/create#chat-create-messages)
- [https://platform.openai.com/docs/guides/text-generation/chat-completions-api](https://platform.openai.com/docs/guides/text-generation/chat-completions-api)
