---
title: "Sorry! We've encountered an issue with repetitive patterns in your prompt. Please try again with a different prompt."
provider: "openai"
provider_icon: "/logos/openai.svg"
solved: true
slug: "input-content-error-9082"
---

## Reason

The OpenAI API returns a `400 Bad Request` error with the message "repetitive patterns in your prompt" when its input validation filters detect excessive token repetition. This is a safeguard designed to prevent inefficient processing, infinite loops in model generation, or potential token-poisoning attacks. 

Key reasons for this error include:
1. **High Token Redundancy**: The prompt contains long sequences of identical or near-identical tokens (e.g., repeating a character or word hundreds of times).
2. **Poisoned Context History**: In chat applications, if the model previously generated a repetitive response and that response is included in the new request's message history, the API may reject the entire prompt as invalid.
3. **Uncleaned Input Data**: Scraped web content or raw data injected into the prompt may contain hidden repetitive patterns, such as formatting characters or boilerplate text, that exceed the provider's internal complexity thresholds.
4. **Model Constraints**: The structure of the prompt may conflict with specific safety or performance constraints of the selected model (common in GPT-3.5 and GPT-4 variants).

## Solution
To resolve the 400 error caused by repetitive patterns, implement the following remediation steps:
1. **Audit and Clean the Prompt**: Review the input for unintended repetition, such as long delimiters (e.g., strings of dashes or dots) and redundant instruction blocks. Remove any excessive whitespace or unnecessary boilerplate text.
2. **Prune Conversation History**: If you are using a chat-based model, check the message history for repetitive assistant outputs. Exclude or truncate these problematic turns before sending the next request to prevent a "softlock" where the model rejects its own previous output.
3. **Sanitize Dynamic Data**: If your prompt includes external data (scraped text or RAG chunks), apply pre-processing filters to deduplicate identical sentences or phrases before injecting them into the prompt.
4. **Vary the Prompt Structure**: Rephrase identical instructions or use diverse vocabulary if you must repeat a concept multiple times. Ensure that unique metadata is used if repeating similar data structures.
5. **Update SDKs and API Versions**: Ensure you are using the latest version of the OpenAI library or intermediate frameworks (like LangChain or LlamaIndex). Older versions may have bugs in how they format multipart payloads or manage token sequences.
6. **Test with Incremental Prompts**: Isolate the cause by testing truncated versions of the prompt. If the error disappears, gradually add sections back until the specific repetitive pattern is identified.

## Suggested Links
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
