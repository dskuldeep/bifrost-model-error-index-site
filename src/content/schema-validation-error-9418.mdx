---
title: "Invalid schema for function \"information_extraction\": [\"Tech Sector Concerns\", \"Bot Development Work\", \"Expense Question\", \"API Configuration Progress\"] is not of type \"object\", \"boolean\""
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "schema-validation-error-9418"
---

## Reason

The **Invalid schema for function** error (HTTP 400) occurs when the JSON structure provided for a function or tool definition does not comply with the expected JSON Schema specification. In the Azure OpenAI API, the `parameters` field of a function must be a valid JSON Schema object (typically defined with `type: "object"`) or, in specific contexts, a boolean.

Key reasons for this error include:
1. **Incorrect Data Type**: The error message explicitly states that an array (the list of strings starting with "Tech Sector Concerns") was provided where an object or boolean was expected. Arrays are not valid top-level structures for function parameter definitions.
2. **Invalid Schema Definition**: The schema defined for the function `information_extraction` does not align with the structure of the data being passed. If the function is intended to receive a list of topics, those topics must be wrapped within a property of an object rather than passed as the root element.
3. **Request Argument Errors**: The payload or request arguments might contain fields that are unrecognized or incorrectly formatted, leading the server to reject the "Bad Request."
4. **Structure Mismatch**: A mismatch exists between the expected data type defined in the function's schema and the actual data structure provided in the API request.

## Solution
To resolve the "Invalid schema for function" error, you must ensure your function definitions and the data provided adhere strictly to JSON Schema standards.

Follow these remediation steps:
1. **Verify the Function Definition**: Ensure the `parameters` field in your function call definition is a valid JSON Schema object. It must explicitly define a `type`. For example, instead of passing a list directly, define an object with an array property:

```json
"parameters": {
  "type": "object",
  "properties": {
    "concerns": {
      "type": "array",
      "items": { "type": "string" }
    }
  },
  "required": ["concerns"]
}
```
2. **Match the Expected Data Type**: Verify that the input data conforms to the type specified in the schema. In this instance, ensure you are passing an object (e.g., `{ "concerns": [...] }`) rather than a raw array.
3. **Validate the Schema**: Use a JSON Schema validator to ensure the structure aligns with the function's requirements. Every property must have a valid type (string, number, object, etc.).
4. **Correct Request Arguments**: Check that all fields in the request payload are recognized by the specific Azure OpenAI API version you are using. Unrecognized fields often trigger 400 errors.
5. **Review Function Parameters**: Double-check that all parameters passed to the function adhere to the specified schema, paying close attention to nested properties and required fields.

## Suggested Links
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling)
- [https://json-schema.org/understanding-json-schema/reference/object.html](https://json-schema.org/understanding-json-schema/reference/object.html)
- [https://platform.openai.com/docs/guides/function-calling](https://platform.openai.com/docs/guides/function-calling)
