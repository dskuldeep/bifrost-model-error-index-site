---
title: "Invalid input: 'assitant' is not a recognized role. Accepted roles are 'system', 'assistant', 'user', or 'function'."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "input-validation-error-9142"
---

## Raw Error Text

```text
'assitant' is not one of ['system', 'assistant', 'user', 'function'] - 'messages.1.role'
```

## Reason

The Azure OpenAI API returns a 400 Bad Request error when a message object in the `messages` array contains an invalid `role` value. The specific error message `'assitant' is not one of ['system', 'assistant', 'user', 'function'] - 'messages.1.role'` indicates a typographical error where the value `"assistant"` was misspelled.

Key points regarding this error:

*   **Typographical Error**: The API received the string `"assitant"` which is not a recognized role.
*   **Array Index**: The identifier `messages.1.role` specifies that the error is located in the second message of the `messages` array (as API indexing starts at 0).
*   **Schema Validation**: The API enforces strict validation for the `role` field. It only accepts a specific set of strings: `'system'`, `'assistant'`, `'user'`, or `'function'`. Any variation in spelling or casing will cause the request to be rejected.

## Solution
To resolve the 400 status error, you must correct the `role` field in your request payload. Follow these steps:
1. Locate the `messages` array in your JSON request body.
2. Identify the specific message causing the issue. Based on the error `messages.1.role`, look at the second object in the array.
3. Replace the incorrect string `"assitant"` with the correct spelling: `"assistant"`.
4. Verify that all other messages in the array use one of the following valid roles:
    *   `system`: Used for instructions that define the model's behavior.
    *   `assistant`: Used for previous responses generated by the model.
    *   `user`: Used for messages sent by the end user.
    *   `function`: Used for providing the results of function calls (note that newer API versions may use the `tool` role instead).
5. Ensure there are no extra spaces or unconventional capitalization in the role names, as they should be entirely lowercase.

## Suggested Links
- [https://community.openai.com/t/error-400-already-has-an-active-run/930753](https://community.openai.com/t/error-400-already-has-an-active-run/930753)
- [https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400](https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400)
- [https://github.com/danny-avila/LibreChat/discussions/3115](https://github.com/danny-avila/LibreChat/discussions/3115)
- [https://learn.microsoft.com/en-us/answers/questions/1479386/azure-openai-api-calling-issue](https://learn.microsoft.com/en-us/answers/questions/1479386/azure-openai-api-calling-issue)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/role-based-access-control](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/role-based-access-control)
- [https://github.com/langgenius/dify/issues/4686](https://github.com/langgenius/dify/issues/4686)
- [https://learn.microsoft.com/fi-fi/azure/ai-services/openai/reference](https://learn.microsoft.com/fi-fi/azure/ai-services/openai/reference)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/chat-completions](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/chat-completions)
