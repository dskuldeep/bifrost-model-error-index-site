---
title: "Invalid value: 'image'. Supported values are: 'text', 'image_url', 'audio_url', and 'refusal'."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "value-not-supported-error-9559"
---

## Reason

The **400 Bad Request** error occurs when the Azure OpenAI API receives a message content object with an unsupported `type` value. The error message `Invalid value: 'image'` specifically indicates that the request body incorrectly uses `"type": "image"`, which is not a recognized type in the Chat Completions schema.

Key reasons include:
1. **Incorrect Content Type Property**: The API expects the `type` field within a multi-modal content array to be one of the following: `'text'`, `'image_url'`, `'audio_url'`, or `'refusal'`. Using `'image'` is syntactically invalid.
2. **Model Schema Requirements**: While models like **GPT-4o** and **GPT-4 Turbo with Vision** support visual inputs, the payload must be formatted as an object where the `type` is explicitly set to `image_url`. Providing only `'image'` causes the request to fail.
3. **Request Payload Structure**: The structure of the request might be using a flat format or keys that do not align with the expected array-of-objects format required for vision-enabled models.

## Solution
To resolve the 400 status error, you must adjust the `type` field and the structure of your request payload to align with the Azure OpenAI API requirements.
1. **Update the Content Type**: Replace any instances of `"type": "image"` with `"type": "image_url"` in your request body.
2. **Correct the Payload Structure**: Ensure that image information is nested within an `image_url` object containing either a URL or a Base64-encoded data string.

   Example of a correct payload structure:
   ```json
   {
     "role": "user",
     "content": [
       {
         "type": "text",
         "text": "What is in this image?"
       },
       {
         "type": "image_url",
         "image_url": {
           "url": "https://example.com/sample-image.jpg"
         }
       }
     ]
   }
   ```
3. **Verify Model Compatibility**: Ensure you are using a model deployment that supports the `image_url` type, such as `gpt-4o` or `gpt-4-turbo`. Non-vision models will only accept the `text` type.
4. **Check API Version**: Confirm that you are using a supported API version (e.g., `2024-02-01` or later) that provides multi-modal support.

## Suggested Links
- [https://learn.microsoft.com/en-us/answers/questions/2057435/azure-openai-api-with-gpt-4o-deployment-fails-to-c](https://learn.microsoft.com/en-us/answers/questions/2057435/azure-openai-api-with-gpt-4o-deployment-fails-to-c)
- [https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400](https://cheatsheet.md/chatgpt-cheatsheet/openai-api-error-axioserror-request-failed-status-code-400)
- [https://community.openai.com/t/image-url-for-gpt-4o-api-giving-error-expected-an-object-but-got-a-string-instead/748188](https://community.openai.com/t/image-url-for-gpt-4o-api-giving-error-expected-an-object-but-got-a-string-instead/748188)
- [https://learn.microsoft.com/en-us/answers/questions/1479386/azure-openai-api-calling-issue](https://learn.microsoft.com/en-us/answers/questions/1479386/azure-openai-api-calling-issue)
- [https://community.openai.com/t/how-can-i-write-a-post-request-for-azure-openai-that-uses-structured-output/898569](https://community.openai.com/t/how-can-i-write-a-post-request-for-azure-openai-that-uses-structured-output/898569)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/references/on-your-data](https://learn.microsoft.com/en-us/azure/ai-services/openai/references/on-your-data)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/gpt-with-vision](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/gpt-with-vision)
