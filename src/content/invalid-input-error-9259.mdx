---
title: "Provided image is not valid."
provider: "google"
provider_icon: "/logos/google.svg"
solved: true
slug: "invalid-input-error-9259"
---

## Reason

The "Provided image is not valid" error is a 400 Bad Request status indicating that the Google API (such as Gemini or Vision API) encountered an issue while attempting to retrieve or process the specified image. This usually occurs due to one of the following factors:

- **Invalid URL Syntax**: The URL provided for the image might contain typos, misplaced characters, or unsupported symbols that prevent the API from correctly resolving the address.
- **Incorrect URL Format**: Using internal URI schemes like `gs://` (Google Cloud Storage) in fields that require a public HTTP or HTTPS web URL. The API may expect the standard public endpoint format instead of the cloud-native identifier.
- **Access Permissions**: The image resource might be protected by restrictive Access Control Lists (ACLs) or IAM policies. If the image is not publicly accessible and the API call does not have the necessary authorization to read from the storage bucket, the image is treated as invalid.
- **Request Malformation**: The structure of the API request itself could be invalid, containing syntax errors or missing required parameters that prevent the server from interpreting the image data correctly.
- **Unsupported Image Properties**: The file may exceed size limits (e.g., 20MB for some Vision features) or may be in a format not supported by the specific endpoint being called.

## Solution
To resolve the 400 Bad Request error regarding an invalid image, follow these remediation steps:
1. **Verify the URL**: Double-check the image URL for accuracy. Ensure it is a direct link to the image file (ending in .jpg, .png, etc.) and does not contain extra spaces or invalid characters.
2. **Check Access Permissions**: Ensure the image is publicly accessible or that the API service account has the `storage.objects.get` permission. You can test this by trying to open the URL in a private/incognito browser window.
3. **Correct the URL Prefix**: For images stored in Google Cloud Storage, use the public URL format: `[REDACTED_URL]]/[OBJECT_NAME]` instead of the `gs://` prefix, unless the specific API documentation explicitly requests the `gs://` format.
4. **Test Direct Access**: Ensure the image can be fetched by common web tools (like `curl` or a browser) without requiring a login session.
5. **Disable or Fix URL Encoding**: Check if the URL contains special characters that require encoding. Conversely, if the URL is already encoded, ensure that it is not being double-encoded by your application logic.
6. **Local Download and Base64 Encoding**: If URL-based access remains problematic due to network restrictions or complex permissions, download the image to your local environment and send it to the API as a Base64-encoded string in the request body.
7. **Validate File Type and Size**: Confirm the image meets the provider's technical requirements (e.g., typical support includes JPEG, PNG, WebP, BMP, and GIF) and does not exceed the maximum resolution or file size limits.

## Suggested Links
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
