---
title: "Invalid value for 'function_call': no function named 'GenBugReportFunc' was specified in the 'functions' parameter."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "function-call-error-9067"
---

## Reason

The HTTP 400 error in Azure OpenAI occurs when the API receives a request to execute a specific function that is not present in the provided function definitions. Key reasons include:
1. **Function Name Mismatch**: The name specified in the `function_call` (or `tool_choice`) parameter (e.g., 'GenBugReportFunc') does not exactly match any `name` property within the `functions` (or `tools`) array. This is often due to typos or case-sensitivity.
2. **Parameter Deprecation**: The `functions` and `function_call` parameters are legacy features. In newer API versions (starting from `2023-12-01-preview`), they have been replaced by the `tools` and `tool_choice` parameters. Using deprecated parameters with newer models or endpoints can lead to validation failures.
3. **Missing Function Definition**: The `functions` array in the request body may be empty or entirely missing the definition for the required function.
4. **API Version Incompatibility**: Certain API versions or endpoints may not support legacy function calling or may require the newer `tools` schema. Using an outdated or mismatched API version can cause the request to be rejected.

## Solution
To resolve the "Invalid value for 'function_call'" error, follow these remediation steps:
1. **Migrate to the `tools` Parameter**: Replace the deprecated `functions` and `function_call` parameters with `tools` and `tool_choice`. The new structure follows this format:
   - `tools`: An array of objects, each containing a `type: "function"` and a `function` definition.
   - `tool_choice`: Either `"auto"`, `"none"`, or an object specifying a specific tool (e.g., `{"type": "function", "function": {"name": "GenBugReportFunc"}}`).
2. **Verify Function Definitions**: Ensure that 'GenBugReportFunc' is explicitly defined within the `tools` (or `functions`) list. The `name` string must be identical in both the tool definition and the selection parameter.
3. **Update API Version**: Use a supported API version that fully supports tool calling, such as `2023-12-01-preview`, `2024-02-01`, or later. Ensure your `azure_endpoint` and `api_version` are correctly configured in your client initialization.
4. **Validate Request Body Properties**: Check that all required fields for a function definition are present, including `name`, `description`, and a valid JSON schema for `parameters`. Even if no parameters are required, the `parameters` field should typically be an object with `"type": "object"` and an empty `"properties"` set.

## Suggested Links
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
- [Redacted URL](Redacted URL)
