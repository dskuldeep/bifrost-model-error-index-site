---
title: "The description provided for a function or component is too long and exceeds the acceptable limit. Please shorten the description to comply with length constraints."
provider: "azure-openai"
provider_icon: "/file.svg"
solved: true
slug: "description-length-error-9044"
---

## Raw Error Text

```text
"The "matching_auto_reply" function is designed to match the incoming user query with a list of question that matches the intent and context and respond with best matching query if any, the list of questions as in format as follows, 0. question: Some question ans: Some answer, tagged as question and ans and numeric noation for each question number starting 0, List of FAQs are as follow: 0 question: What is the goal of Vested? ans: Our goal is to help our customers build long term wealth. 1 question: How does Vested help Indian investors? ans: Vested helps Indian investors by providing them with access to global markets and more diversification options.,2 question: What sets Vested apart from other companies? ans: What sets Vested apart is their team and the culture they have been able to nurture. They value collaboration, creativity, and excellence.,3 question: What are Vested"s ambitions? ans: Vested"s ambitions are to become the largest alternative assets platform in India and to make alternative investments accessible, exciting, and rewarding for everyone.,4 question: Who are the leaders of Vested? ans: The leaders of Vested are Viram Shah (Co-founder &amp; CEO), Sanjay Sood (Chief Finance Officer), Scott Brody (Chief Compliance Officer), Bharat Jain (Founding Member &amp; Director of BD), Susheel Kumar (Director of Engineering), and Akash Gupta (Director of Marketing) " is too long - "functions.0.description"
```

## Reason

The 400 status error occurring in the Azure OpenAI API, specifically regarding the "functions.0.description" field, is primarily caused by providing a string that exceeds the allowed character limit for function definitions. 

Key reasons for this failure include:
1.  **Exceeding Character Limits**: The Azure OpenAI API imposes a strict limit on the `description` field within function or tool definitions. While function names are limited to 64 characters, the description field typically has a limit of **1024 characters**. In the provided error, a large list of FAQs was included in the description, causing it to exceed this threshold.
2.  **Incorrect Formatting or Structure**: The API expects the function definition to follow a specific JSON schema. Including complex data structures or extensive textual content inside the description field can cause validation failures if the structure deviates from expected API constraints.
3.  **API Version or Model Constraints**: Specific API versions (such as `2023-07-01-preview` or later) and models (like GPT-4o or GPT-3.5-Turbo) have varying restrictions. Some older models or specific regional deployments may enforce these limits more strictly during the pre-call validation phase.
4.  **Overloading or Token Limit Issues**: While 400 errors are usually related to request structure, extremely long descriptions contribute to the overall request size and token count. If the overhead of the tool definitions is too large, it may trigger pre-call checks that fail before the actual inference begins.

## Solution
To resolve the 400 Bad Request error, you must modify your function definition to comply with Azure OpenAI's architectural constraints. Follow these remediation steps:
1.  **Shorten the Description**: Reduce the `description` field to a concise summary of what the function does (e.g., "Matches user queries with internal FAQs"). Aim to keep this under 1024 characters.
2.  **Externalize Data**: Do not include data lists (like the FAQs in the raw error) within the function description. Instead:
    *   Move the FAQs to the **System Prompt**.
    *   Use a **Retrieval-Augmented Generation (RAG)** pattern to search a database before calling the model.
    *   Pass the relevant data as a parameter to the function rather than embedding it in the metadata.
3.  **Validate Input Format and Structure**: Ensure that the `functions` or `tools` array is correctly structured as a valid JSON object according to the OpenAI/Azure OpenAI schema. Use a JSON validator to ensure no trailing commas or malformed characters exist.
4.  **Check API and Model Compliance**: Verify that the selected model deployment and API version support the specific function-calling features you are utilizing. Ensure your client library is up to date to handle modern tool-calling syntax.

**Key Actions Summary:**

*   Shorten the description field to strictly adhere to the maximum character limit.
*   Validate the input format and JSON structure.
*   Ensure compliance with specific API version and model constraints.

## Suggested Links
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/function-calling)
- [https://platform.openai.com/docs/guides/function-calling](https://platform.openai.com/docs/guides/function-calling)
- [https://learn.microsoft.com/en-us/azure/ai-services/openai/quotas-limits](https://learn.microsoft.com/en-us/azure/ai-services/openai/quotas-limits)
